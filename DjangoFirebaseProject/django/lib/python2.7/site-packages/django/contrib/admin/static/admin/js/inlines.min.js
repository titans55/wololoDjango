(function(c)***REMOVED***c.fn.formset=function(b)***REMOVED***var a=c.extend(***REMOVED******REMOVED***,c.fn.formset.defaults,b),d=c(this);b=d.parent();var k=function(a,g,l)***REMOVED***var b=new RegExp("("+g+"-(\\d+|__prefix__))");g=g+"-"+l;c(a).prop("for")&&c(a).prop("for",c(a).prop("for").replace(b,g));a.id&&(a.id=a.id.replace(b,g));a.name&&(a.name=a.name.replace(b,g))***REMOVED***,e=c("#id_"+a.prefix+"-TOTAL_FORMS").prop("autocomplete","off"),l=parseInt(e.val(),10),g=c("#id_"+a.prefix+"-MAX_NUM_FORMS").prop("autocomplete","off"),h=""===g.val()||0<g.val()-e.val();
d.each(function(g)***REMOVED***c(this).not("."+a.emptyCssClass).addClass(a.formCssClass)***REMOVED***);if(d.length&&h)***REMOVED***var m=a.addButton;null===m&&("TR"===d.prop("tagName")?(d=this.eq(-1).children().length,b.append('<tr class="'+a.addCssClass+'"><td colspan="'+d+'"><a href="#">'+a.addText+"</a></tr>"),m=b.find("tr:last a")):(d.filter(":last").after('<div class="'+a.addCssClass+'"><a href="#">'+a.addText+"</a></div>"),m=d.filter(":last").next().find("a")));m.click(function(b)***REMOVED***b.preventDefault();b=c("#"+a.prefix+"-empty");
var f=b.clone(!0);f.removeClass(a.emptyCssClass).addClass(a.formCssClass).attr("id",a.prefix+"-"+l);f.is("tr")?f.children(":last").append('<div><a class="'+a.deleteCssClass+'" href="#">'+a.deleteText+"</a></div>"):f.is("ul")||f.is("ol")?f.append('<li><a class="'+a.deleteCssClass+'" href="#">'+a.deleteText+"</a></li>"):f.children(":first").append('<span><a class="'+a.deleteCssClass+'" href="#">'+a.deleteText+"</a></span>");f.find("*").each(function()***REMOVED***k(this,a.prefix,e.val())***REMOVED***);f.insertBefore(c(b));
c(e).val(parseInt(e.val(),10)+1);l+=1;""!==g.val()&&0>=g.val()-e.val()&&m.parent().hide();f.find("a."+a.deleteCssClass).click(function(b)***REMOVED***b.preventDefault();f.remove();--l;a.removed&&a.removed(f);c(document).trigger("formset:removed",[f,a.prefix]);b=c("."+a.formCssClass);c("#id_"+a.prefix+"-TOTAL_FORMS").val(b.length);(""===g.val()||0<g.val()-b.length)&&m.parent().show();var h,d,e=function()***REMOVED***k(this,a.prefix,h)***REMOVED***;h=0;for(d=b.length;h<d;h++)k(c(b).get(h),a.prefix,h),c(b.get(h)).find("*").each(e)***REMOVED***);a.added&&
a.added(f);c(document).trigger("formset:added",[f,a.prefix])***REMOVED***)***REMOVED***return this***REMOVED***;c.fn.formset.defaults=***REMOVED***prefix:"form",addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",emptyCssClass:"empty-row",formCssClass:"dynamic-form",added:null,removed:null,addButton:null***REMOVED***;c.fn.tabularFormset=function(b)***REMOVED***var a=c(this),d=function(b)***REMOVED***c(a.selector).not(".add-row").removeClass("row1 row2").filter(":even").addClass("row1").end().filter(":odd").addClass("row2")***REMOVED***,k=function()***REMOVED***"undefined"!==
typeof SelectFilter&&(c(".selectfilter").each(function(a,c)***REMOVED***var b=c.name.split("-");SelectFilter.init(c.id,b[b.length-1],!1)***REMOVED***),c(".selectfilterstacked").each(function(a,c)***REMOVED***var b=c.name.split("-");SelectFilter.init(c.id,b[b.length-1],!0)***REMOVED***))***REMOVED***,e=function(a)***REMOVED***a.find(".prepopulated_field").each(function()***REMOVED***var b=c(this).find("input, select, textarea"),h=b.data("dependency_list")||[],d=[];c.each(h,function(c,b)***REMOVED***d.push("#"+a.find(".field-"+b).find("input, select, textarea").attr("id"))***REMOVED***);d.length&&b.prepopulate(d,
b.attr("maxlength"))***REMOVED***)***REMOVED***;a.formset(***REMOVED***prefix:b.prefix,addText:b.addText,formCssClass:"dynamic-"+b.prefix,deleteCssClass:"inline-deletelink",deleteText:b.deleteText,emptyCssClass:"empty-form",removed:d,added:function(a)***REMOVED***e(a);"undefined"!==typeof DateTimeShortcuts&&(c(".datetimeshortcuts").remove(),DateTimeShortcuts.init());k();d(a)***REMOVED***,addButton:b.addButton***REMOVED***);return a***REMOVED***;c.fn.stackedFormset=function(b)***REMOVED***var a=c(this),d=function(b)***REMOVED***c(a.selector).find(".inline_label").each(function(a)***REMOVED***a+=1;c(this).html(c(this).html().replace(/(#\d+)/g,
"#"+a))***REMOVED***)***REMOVED***,k=function()***REMOVED***"undefined"!==typeof SelectFilter&&(c(".selectfilter").each(function(a,c)***REMOVED***var b=c.name.split("-");SelectFilter.init(c.id,b[b.length-1],!1)***REMOVED***),c(".selectfilterstacked").each(function(a,c)***REMOVED***var b=c.name.split("-");SelectFilter.init(c.id,b[b.length-1],!0)***REMOVED***))***REMOVED***,e=function(a)***REMOVED***a.find(".prepopulated_field").each(function()***REMOVED***var b=c(this).find("input, select, textarea"),d=b.data("dependency_list")||[],e=[];c.each(d,function(b,c)***REMOVED***e.push("#"+a.find(".form-row .field-"+c).find("input, select, textarea").attr("id"))***REMOVED***);
e.length&&b.prepopulate(e,b.attr("maxlength"))***REMOVED***)***REMOVED***;a.formset(***REMOVED***prefix:b.prefix,addText:b.addText,formCssClass:"dynamic-"+b.prefix,deleteCssClass:"inline-deletelink",deleteText:b.deleteText,emptyCssClass:"empty-form",removed:d,added:function(a)***REMOVED***e(a);"undefined"!==typeof DateTimeShortcuts&&(c(".datetimeshortcuts").remove(),DateTimeShortcuts.init());k();d(a)***REMOVED***,addButton:b.addButton***REMOVED***);return a***REMOVED***;c(document).ready(function()***REMOVED***c(".js-inline-admin-formset").each(function()***REMOVED***var b=c(this).data(),a=b.inlineFormset;
switch(b.inlineType)***REMOVED***case "stacked":c(a.name+"-group .inline-related").stackedFormset(a.options);break;case "tabular":c(a.name+"-group .tabular.inline-related tbody tr").tabularFormset(a.options)***REMOVED******REMOVED***)***REMOVED***)***REMOVED***)(django.jQuery);
