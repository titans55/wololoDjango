{% extends "partials/layout.html" %} 
{% load static %} 

{% block headcdn %} 
{% endblock %}

{% block content %}
<div id="villageDataJSON" data='{{data.selectedVillage}}'></div>
<div id="gameConfigData" data='{{data.gameConfig}}'></div>
{% include "partials/villageResources.html" %}

<div class="village-content">
    <ul class="list-group">
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Town center
                        </div>
                        <div class="col">
                            <span id="townCenter-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.townCenter.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="townCenter" class="upgradeBuildings">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
    
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <button class="upgrade btn btn-primary" id="townCenter">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Wood Camp
                        </div>
                        <div  class="col">
                            <span id="resources.woodCamp-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.resources.woodCamp.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="woodCamp" class="upgradeResources" resourceType="wood">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <button class="upgrade btn btn-primary" id="resources.woodCamp">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Iron Mine
                        </div>
                        <div  class="col">
                            <span id="resources.ironMine-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.resources.ironMine.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="ironMine" class="upgradeResources" resourceType="iron">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <button class="upgrade btn btn-primary" id="resources.ironMine">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Clay Pit
                        </div>
                        <div class="col">
                            <span id="resources.clayPit-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.resources.clayPit.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="clayPit" class="upgradeResources" resourceType="clay">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <button id="resources.clayPit" class="upgrade btn btn-primary">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Storage
                        </div>
                        <div class="col">
                            <span id="storage-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.storage.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="storage" class="upgradeBuildings">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
                <div class="col">
                    <button class="upgrade .popover-dismiss btn btn-primary" id="storage">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <a class="col" href="/game/barracks">
                            Barracks
                        </a>
                        <div class="col">
                            <span id="barracks-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.barracks.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="barracks" class="upgradeBuildings">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
                <div class="col">
                    <button class="upgrade btn btn-primary" id="barracks">Upgrade</button>
                </div>
            </div>
        </li>
        <li class="list-group-item">
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            Farm
                        </div>
                        <div class="col">
                            <span id="farm-level" class="badge badge-info">
                                Level 
                                <div class="level">
                                    {{data.selectedVillage.farm.level}}
                                </div>
                            </span>                            
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div buildingName="farm" class="upgradeBuildings">
                        <div class="row">
                            <div class="col">
                                <div class="neededWood">XXX</div> Wood
                            </div>
                            <div class="col">
                                <div class="neededIron">XXX</div> Iron
                            </div>
                            <div class="col">
                                <div class="neededClay">XXX</div> Clay
                            </div>
                            <div class="col">
                                <div class="neededTime">
                                    XXX
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
                <div class="col">
                    <button class="upgrade btn btn-primary" id="farm">Upgrade</button>
                </div>
            </div>
        </li>
    </ul> 
    
    <div class="modal fade" id="insufficentResources" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Insufficent Resources!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Ouh, okay</button>
            </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 
{% block footerjs %}

<div id="wholeData" data='{{data}}'></div>

<script type="text/javascript" src="{% static 'wololo/assets/js/phaser/build/phaser.min.js' %}"></script>
<script type="text/javascript" src="{% static 'wololo/js/villages.js' %}"></script>
<script type="text/javascript" src="{% static 'wololo/js/villageResources.js' %}"></script>

{% endblock %}